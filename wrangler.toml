name = "shopify-preorder-worker"
main = "worker/worker.js"
compatibility_date = "2024-10-01"
workers_dev = true
account_id = "15ca7e334e718fd09111923bd889fc4c"

[assets]
directory = "public"
binding = "ASSETS"

[vars]
SHOPIFY_WEBHOOK_SECRET = "f91dda9d246ab3c5de518e4079344533ff04c65cc08a3f3bbfcd68adac619ab5"
# SHOPIFY_ADMIN_ACCESS_TOKEN should be set via: npx wrangler secret put SHOPIFY_ADMIN_ACCESS_TOKEN
# Or pass during deployment: npx wrangler deploy --var SHOPIFY_ADMIN_ACCESS_TOKEN="your_token"
SHOPIFY_STORE_DOMAIN = "rujutasheth-com.myshopify.com"
SHOPIFY_API_VERSION = "2024-10"
METAFIELD_NAMESPACE = "preorder"
CONCURRENCY = "1"
PUBLIC_BASE_URL = "https://shopify-preorder-worker.manishbsn188.workers.dev"

[[d1_databases]]
binding = "rjs_preorder"
database_name = "rjs_preorder"
database_id = "afd8d955-231f-4ce3-9fed-bee0ffdecde9"

# Cron trigger for background processing (every 2 minutes)
[triggers]
crons = ["*/2 * * * *"]



[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1.0
invocation_logs = true
